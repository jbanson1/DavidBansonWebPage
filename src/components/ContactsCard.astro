---
import Card from "./Card/index.astro";
import { LINKS } from "../lib/constants";
---

<!-- Changelog: Restored contact link hover/focus styling with accent color and motion-aware transitions. -->
<Card colSpan="md:col-span-1" rowSpan="md:row-span-4">
  <div class="h-full">
    <header class="flex items-start">
      <h1 class="cta-title text-lg md:text-xl font-bold tracking-tight">
        Got something in mind?
      </h1>
    </header>

    <address class="flex flex-col mt-3 not-italic">
      <h2 class="text-muted">Contact Details</h2>
      <p>
        <a 
          href="mailto:dbanson@hotmail.com"
          class="contact-link"
        >
          dbanson@hotmail.com
        </a>
      </p>
      <p>Bay Area, CA</p>
    </address>

    <div class="flex flex-col mt-4 w-fit">
      <h2 class="text-muted">Socials</h2>
      <ul class="space-y-1">
        <li>
          <a 
            href={LINKS.medium} 
            target="_blank" 
            rel="noopener noreferrer"
            class="contact-link"
          >
            Medium
          </a>
        </li>
        <li>
          <a 
            href="https://tryhackme.com/p/daveittt" 
            target="_blank" 
            rel="noopener noreferrer"
            class="contact-link"
          >
            TryHackMe
          </a>
        </li>
        <li>
          <a 
            href="https://discord.com/users/929044259007516784" 
            target="_blank" 
            rel="noopener noreferrer"
            class="contact-link"
          >
            Discord
          </a>
        </li>
      </ul>
    </div>
  </div>

  <style>
    /* Changelog: Restored branded hover/focus styling for contact links with motion-aware transitions. */
    /* subtle red underline hover for the main heading */
    .cta-title {
      position: relative;
      display: inline-block;
    }

    .cta-title::after {
      content: "";
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 1px;
      background-color: #ef4444; /* red-500 accent */
      transition: width 0.25s ease-in-out;
    }

    .cta-title:hover::after {
      width: 100%;
    }

    .contact-link {
      position: relative;
      color: inherit;
      text-decoration: underline;
      text-decoration-color: transparent;
      transition: color 160ms ease, text-decoration-color 160ms ease, text-shadow 160ms ease, outline-color 160ms ease;
      text-shadow: none;
    }

    @media (prefers-reduced-motion: reduce) {
      .contact-link {
        transition: none;
      }
    }

    .contact-link:hover,
    .contact-link:focus-visible {
      color: var(--color-accent);
      text-decoration-color: var(--color-accent);
      text-shadow: 0 0 8px rgba(230, 57, 70, 0.45);
      text-shadow: 0 0 8px color-mix(in srgb, var(--color-accent) 70%, transparent);
    }

    .contact-link:focus-visible {
      outline: 2px solid var(--color-accent);
      outline-offset: 3px;
      border-radius: 2px;
    }
  </style>
</Card>
